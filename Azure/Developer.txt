
Serviços:

    Azure Cloud Shell
        Serviço para abrir um o PowerShell na Azure
        OBS: Também há a opção de abrir um bash

    VM (IaaS)
        No Azure, uma VM é efetivamente um servidor, sendo Windows ou Linux
        Tamanho Default: DS1
        
        Premium SSD é o armazenamento padrão para a criação de uma VM
            4Test: Caso eu queria aumentar o número de operações em menos tempo, eu devo aumentar o tamanho do disco

        Bastion
            É um serviço que permite conectar à uma máquina sem uma porta RDP aberta.    

        ARM (Azure Resource Manager)
            Modelo subjacente de como os recursos são gerenciados no Azure
            É a API que o Portal do Azure consome para manipular os serviços
            Fornece a possibilidade de criar os recursos através de código (JSON)
            Há a possibilidade de salvar Modelos da VM

    Azure App Service (PaaS)
        
        WebApp
            Não é serveless embora não tenhamos que mexer na configuração do servidor
            Tamanho Default: S1
            Há a possibilidade de implantar aplicativos com várias tecnologias diferentes
            Há a possibilidade de integrar com Github, Visual Studio (É possível construir um WebApp pelo VS, também é possível enviar e publicar), etc...
            Há a possibilidade do Web App ser uma implantação de código ou aplicativo Web em contâiner
            
            Helps
                get-command *AzWebApp* (Retorna todos os commandos de um WebApp, útil para o exame quando não souber um comando específico)
                az webapp up --location eastus --name newapp --html (Comando para criar um WebApp no Bash sem precisar criar passo a passo seja pelo terminal, bash ou Azure)

            No tamanho Basic(B1 - B3), há o escalonamento, porém manual. Já do padrão(P1V2) em diante, há o escalonamento automático
        
            WebJobs
                Serviço para executar uma aplicação específica para um WebApp em background.
                    Ex: Serviço de Mensageria que roda a cada 5 minutos
                    OBS: É vinculado a um WebApp

            Deployment Slots
                É possível criar slots de uma aplicação dentro de um WebApp.
                    Ex: Slot de Produção, contendo 100% do tráfego
                        Slot de teste, contendo 0% do tráfego
                
                É possível trocar o código de um slot com o outro
                    Ex: Após publicar as alterações numa aplicação no slot de Staging(teste), e ser validado pelo cliente
                        Não é necessário reimplementar o código no ambiente de produção, basta usar o Swap e transferir as alterações entre os slots
                        Sendo assim, o slot de staging ficará com o código de produção, e o slot de produção ficará com o código de staging.

            Diagnostic Logs
                É possível habilitar logs para o WebApp, Servidor, Erros na aplicação como por ex Exceções, tracking de requisições com falhas
        
    
    Containers
        
        Kubernets Service 
            Não é tão fácil utilizar mas se você tiver dinheiro, treinamento e pessoas vale a pena
        
        WebApp 
            É possível criar um WebApp baseado num container Docker
        
        Container Instances
            Maneira mais rápida e simples de executar um contâiner no Azure.
            Desvantagem: Não há escalonamento nos contâineres

        ACR (Azure Container Registry)
            Funciona como um Docker Hub, porém é um pouco melhor se levarmos em consideração a documentação, marcação, etc...
    
    Function App

        É o serviço para construir funções serveless, como as Lambdas da AWS.
        É possível construir funções em diversas linguagens e em diversos editores de texto, até mesmo na plataforma do Azure
        É possível construir funções de triggers, etc...
        
        Triggers and Binding

            É possível adicionar uma trigger em diversos cenários, entre eles:
                - Ao receber uma mensagem numa fila
                - Ao receber uma requisição HTTP
                - Ao configurar um temporizador
            
        Testing Functions
            É possível testar as Function App no Azure
        
        Function App Settings
            Criar slots de Function App (dev, homolog, produção), integrado com plataformas como por ex Github, Azure Repos, BitBucket, Local Git
            Expor o HTTP Trigger Functions para a Web através do API Management
            Configurar CORS
        
        Azure Functions
            Serveless
            Simples
            Stateless
                Uma aplicação ou processo stateless são recursos isolados. 
                Nenhuma referência ou informação sobre transações antigas são armazenadas, 
                e cada uma delas é feita do zero.
                 As aplicações stateless fornecem uma função ou serviço e usam a rede de entrega de conteúdo (CDN), 
                 a web ou servidores de impressão para processar essas solicitações a curto prazo. 
            Executada através de um gatilho, seja ele um tempo pré-definido, http request, blob event, ou mensagem na fila
            Melhor design para trabalhar de forma assíncrona com outros códigos (integrando com API's)
            Tempo limite de 30 minutos
        
        Durable Functions
            Para criar funções duráveis, é necessário configurar em Development Tools > App Service Editor
            É possível configurar uma function pelo CloudShell rodando localmente antes de publicar, seja ela Durável ou não.
            Para publicar a função: 
                func azure functionapp publish "name of the function"
                "azure", é o contexto em que a função pertence. Para ver as opções, basta digitar func
            
            Stateful
                As aplicações e os processos stateful são aqueles que podem ser usados mais
                 de uma vez, como e-mails e serviços bancários online. 
                 Eles são executados com base no contexto das transações anteriores. 
                 Dependendo do que aconteceu nelas, isso pode afetar as transações atuais. 
                 Por isso, as aplicações stateful usam os mesmos servidores sempre que processam uma solicitação do usuário. 
            
            Could be long-running 
                Suporta longa duração
            Or a multi-step process 
                Pode chamar uma série de tarefas e sempre lembrará dos valores de variáveis que está lidando
            Can "suspend" while waiting for a long-running API to return - checkpoints. 
                Pode ser suspensa até o retorno de uma task por exemplo
            Supports complex design patterns
            Functions can call other functions - chaining
            Made up of a cliente, orchestrator and activities

            Client - The original triggered function
            Orchestrator - The traffic cop 
                Ordena as tasks da function
            Activity - basic unit of work of a function (Se você precisa criar um arquivo, chamar uma API, realizar alguma tarefa).


            Patterns:
                Function Chaining Pattern (Encadeamento de funções) - Stateful (Durable Function)
                    Uma função que executa uma tarefa e em seguida chama outra função para dar continuidade a mesma tarefa.            

                Fan out / Fan in Pattern
                    Uma função chama algumas instâncias de uma outra função na sequência, ao terminar as instâncias, são enviados para uma outra função na sequência.
                
                Asynchronous API Pattern
                    Você pode chamar uma API e esperar o resultado para ser retornado
                
                Monitor Pattern
                    Funciona como a função original, onde tem gatilhos.
                    A diferença é que tem a função esperando que algo aconteça, porém sem saber o tempo que vai levar.
                    Ao terminar, continua o seu trabalho ou faz outras coisas, sem disparar gatilhos de tempo por exemplo, onde não saberá se será compatível
                
                Human Interaction Pattern
                    Quando há etapas humanas, sendo uma delas a aprovação. Após a interação humana, segue as demais funções


         Custom Handlers
            Permite fornecer um programa de forma eficaz que lida com o código, e isso nos permite lidar com ambas (FunctionApp com Node e .NET por exemplo)
            Permite lidar com as linguagens que não são atualmente suportadas (PHP, Ruby, Etc...)
            É um pouco mais complexo para configurar uma função, deve ser criada no vs code por exemplo e depois configurar o host.json para apontar para o executável
                Exemplo: https://docs.microsoft.com/pt-br/azure/azure-functions/create-first-function-vs-code-other?tabs=go%2Cwindows

                    